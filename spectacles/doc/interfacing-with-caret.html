<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Pierre Roudier" />

<meta name="date" content="2023-07-07" />

<title>Spectral modelling and predictions using the caret package</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Spectral modelling and predictions using
the <code>caret</code> package</h1>
<h4 class="author">Pierre Roudier</h4>
<h4 class="date">2023-07-07</h4>



<p>The <code>spectacles</code> package focuses on making the handling of
spectral data (along with its associated attribute data) easy: <em>by
design</em>, the tasks of tuning and fitting prediction models (either
for regression or classification) are out-of-scope. Rather than
re-implementing those routines, <code>spectacles</code> delegates these
tasks to the numerous R packages that facilitates this. In particular,
the package works very well with <a href="https://topepo.github.io/caret/">the <code>caret</code>
package</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(spectacles)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code></pre></div>
<p>Here we demonstrate a simple example of tuning and fitting a
prediction model for the soil organic carbon content field of the
<code>australia</code> dataset that is shipped with the
<code>spectacles</code> package. This vignette assumes some basic
understanding of the <code>caret</code> package. The reader is in
particular referred to <a href="https://cran.r-project.org/package=caret/vignettes/caret.html">the
short introduction to <code>caret</code> vignette</a>.</p>
<div id="loading-the-example-dataset" class="section level1">
<h1>Loading the example dataset</h1>
<p>The <code>australia</code> dataset, shipped with the
<code>spectacles</code> package is a collection of 100 visible
near-infrared spectra collected on air-dried soils. More information
about this dataset is available on its manual page
(<code>?australia</code>). The dataset can be loaded quickly using the
<code>load_oz</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># This loads the &quot;australia&quot; example dataset</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>oz <span class="ot">&lt;-</span> <span class="fu">load_oz</span>()</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; Wavelength range: 350 to 2500 nm</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; Spectral resolution: 1 nm</span></span></code></pre></div>
<p>This creates the object <code>oz</code>, of class
<code>SpectraDataFrame</code>. A dedicated vignette will be available to
explain the creation of <code>SpectraDataFrame</code> objects from
scratch.</p>
</div>
<div id="pre-processing" class="section level1">
<h1>Pre-processing</h1>
<p>Pre-processing will be the focus of a dedicated vignette. Here we
keep things simple, and limit pre-processingto remove the splice steps
that affect the spectra. This is done using the <code>splice</code>
function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>oz <span class="ot">&lt;-</span> <span class="fu">splice</span>(oz)</span></code></pre></div>
</div>
<div id="data-split" class="section level1">
<h1>Data split</h1>
<p>First, the <code>australia</code> dataset is split into a calibration
and a validation set. Here we keep things simple, and use a 75%–25%
random split:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># To make the split reproducible</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(oz), <span class="at">size =</span> <span class="dv">75</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>oz_calib <span class="ot">&lt;-</span> oz[idx, ]</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>oz_valid <span class="ot">&lt;-</span> oz[<span class="sc">-</span>idx, ]</span></code></pre></div>
<p>Note that <code>SpectraDataFrame</code> objects can be subsetted
simply by using the <code>[</code> operator.</p>
</div>
<div id="parametrisation-of-a-pls-model" class="section level1">
<h1>Parametrisation of a PLS model</h1>
<p>The main <code>spectacles</code> function used to interface with
<code>caret</code> is the <code>spectra</code> function, which extracts
the spectral matrix that is associated with analytical data. This matrix
represents the predictors used to predict a given outcome
(“<code>x</code>”), while the outcome of the model (“<code>y</code>”) is
an analytical attribute, and can be extracted from the
<code>SpectraDataFrame</code> object using the <code>$</code>
operator:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># The `spectra` function extracts the spectral matrix...</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>spec_mat <span class="ot">&lt;-</span> <span class="fu">spectra</span>(oz)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">big.head</span>(spec_mat)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co">#&gt;           X350       X351       X352       X353       X354 ...     X2496</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; 28  0.08173233 0.08074037 0.08312159 0.08690414 0.08761925 ... 0.3888433</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; 36  0.10344727 0.09767456 0.09267905 0.09155867 0.10600654 ... 0.3035470</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; 136 0.11363971 0.13762568 0.14234437 0.13608806 0.13451828 ... 0.3524803</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; 194 0.16374375 0.16650400 0.16646151 0.16540240 0.16768558 ... 0.7547905</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; 215 0.09693917 0.10563760 0.10342025 0.09727478 0.10408881 ... 0.4397273</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt;         X2497     X2498     X2499     X2500</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; 28  0.3942973 0.3934600 0.3889097 0.3864646</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; 36  0.3016855 0.3077460 0.3116423 0.3036998</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; 136 0.3526042 0.3598545 0.3576893 0.3460697</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; 194 0.7552416 0.7525422 0.7513548 0.7567009</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; 215 0.4433315 0.4389216 0.4340123 0.4373087</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co"># ... while analytical data can be accessed using `$`</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>oz<span class="sc">$</span>carbon</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="co">#&gt;   [1] 0.63 0.69 1.44 0.33 1.12 1.14 0.72 1.88 0.30 1.60 0.97 1.16 1.84 1.52 1.44</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt;  [16] 1.54 1.04 1.57 1.18 1.10 1.09 1.00 0.58 0.59 0.52 0.55 0.59 0.82 3.12 0.65</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt;  [31] 0.73 0.67 1.08 0.79 0.55 0.38 1.31 0.87 1.81 0.87 1.11 3.13 0.49 1.10 1.17</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt;  [46] 0.75 1.42 0.72 0.20 3.11 0.11 0.62 0.56 1.21 2.24 0.09 0.05 0.58 1.25 0.80</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co">#&gt;  [61] 1.25 1.09 1.29 1.51 0.98 3.15 1.46 2.10 4.39 2.60 6.44 3.06 3.80 3.94 3.25</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="co">#&gt;  [76] 2.34 2.27 5.96 7.91 9.19 4.28 3.63 5.09 8.77 2.89 4.94 5.05 4.66 8.71 4.60</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="co">#&gt;  [91] 2.13 3.44 3.73 3.00 3.43 9.53 7.27 7.38 3.02 4.45</span></span></code></pre></div>
<p>Therefore, the <code>train</code> function can simply be used by
populating its <code>x</code> and <code>y</code> arguments:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="co"># The `spectra` function extract the spectra matrix</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">spectra</span>(oz_calib), </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="co"># analytical data can be extracted using `$`</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="at">y =</span> oz_calib<span class="sc">$</span>carbon,</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="co"># Here we choose the PLS regression method</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">&quot;pls&quot;</span>,</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="co"># The train function will try 3 possible parameters for the PLS</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  <span class="at">tuneLength =</span> <span class="dv">3</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="using-spectroscopy-specific-performance-metrics" class="section level1">
<h1>Using spectroscopy-specific performance metrics</h1>
<div id="as-part-of-the-model-tuning" class="section level2">
<h2>As part of the model tuning</h2>
<p>The <code>spectacles</code> even provide a summary functions akin to
those in <code>caret</code>, but that work better for spectroscopy. The
<code>spectroSummary</code> function works like the
<code>defaultSummary</code> function in <code>caret</code>, but adds
indicators that are popular in spectroscopy, such as RPD, RPIQ, or
CCC:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">spectra</span>(oz_calib),</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="at">y =</span> oz_calib<span class="sc">$</span>carbon,</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;pls&quot;</span>,</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>    <span class="at">tuneLength =</span> <span class="dv">10</span>,</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>    <span class="at">trControl =</span> <span class="fu">trainControl</span>(</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>      <span class="co"># Here we can specify the summary function used during parametrisation</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>      <span class="at">summaryFunction =</span> spectroSummary</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>    ),</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>    <span class="co"># Here we can specifiy which metric to use to optimise the model parameters</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>    <span class="at">metric =</span> <span class="st">&quot;RPIQ&quot;</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>)</span></code></pre></div>
<p>The parametrisation of the resulting model can be plotted and
inspected using the usual <code>caret</code> tools:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">plot</span>(fit2)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">print</span>(fit2)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co">#&gt; Partial Least Squares </span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co">#&gt;   75 samples</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">#&gt; 2151 predictors</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co">#&gt; No pre-processing</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co">#&gt; Resampling: Bootstrapped (25 reps) </span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co">#&gt; Summary of sample sizes: 75, 75, 75, 75, 75, 75, ... </span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co">#&gt; Resampling results across tuning parameters:</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="co">#&gt;   ncomp  RMSE      Rsquared    RPD       RPIQ      CCC         Bias        </span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="co">#&gt;    1     2.270830  0.04109954  1.009247  1.040409  0.06355689   0.028842359</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="co">#&gt;    2     2.112723  0.18565942  1.086623  1.122197  0.29007126   0.045418074</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="co">#&gt;    3     1.925908  0.34933470  1.222142  1.264717  0.48486626  -0.001460203</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="co">#&gt;    4     1.791195  0.45828944  1.301441  1.338876  0.60917078  -0.016411213</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="co">#&gt;    5     1.506213  0.62339030  1.539812  1.586311  0.75342460   0.034489914</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="co">#&gt;    6     1.397651  0.68215657  1.673905  1.717462  0.79435174   0.078286879</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="co">#&gt;    7     1.309171  0.71306886  1.760404  1.802363  0.82416014  -0.006024811</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="co">#&gt;    8     1.359387  0.69369083  1.714036  1.756475  0.81396694   0.035286883</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="co">#&gt;    9     1.504208  0.65452690  1.553504  1.581330  0.78533423   0.042897974</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="co">#&gt;   10     1.572661  0.63015038  1.492047  1.516139  0.76944793   0.020828935</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="co">#&gt;   SE      </span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="co">#&gt;   2.313951</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="co">#&gt;   2.152752</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="co">#&gt;   1.962224</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="co">#&gt;   1.825044</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="co">#&gt;   1.534687</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="co">#&gt;   1.424066</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="co">#&gt;   1.333973</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="co">#&gt;   1.385142</span></span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a><span class="co">#&gt;   1.532704</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a><span class="co">#&gt;   1.602432</span></span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a><span class="co">#&gt; RPIQ was used to select the optimal model using the largest value.</span></span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a><span class="co">#&gt; The final value used for the model was ncomp = 7.</span></span></code></pre></div>
<p>Different models can also be compared:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">extractPrediction</span>(</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="co"># Here we specify the `caret` models we want to compare</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="at">models =</span> <span class="fu">list</span>(</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>    <span class="at">pls1 =</span> fit1, </span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>    <span class="at">pls2 =</span> fit2</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  ), </span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>  <span class="at">testX =</span> <span class="fu">spectra</span>(oz_valid), </span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="at">testY =</span> oz_valid<span class="sc">$</span>carbon</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>) </span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="co"># necessary so 2 PLS model can be compared in `plotObsVsPred`</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>preds<span class="sc">$</span>model <span class="ot">&lt;-</span> preds<span class="sc">$</span>object</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="fu">plotObsVsPred</span>(preds)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The model <code>fit2</code> outperforms the model <code>fit1</code>:
hardly a surprise as we limited the latter to 3 latent variables, which
is clearly too few in this instance.</p>
</div>
<div id="during-the-assessment-of-the-performance-of-the-model" class="section level2">
<h2>During the assessment of the performance of the model</h2>
<p>Finally, those specific performance indicators can also be used to
asses the final results. PLS predictions can be generated using the
<code>predict</code> function from the <code>caret</code> package, and
its result passed to <code>postResampleSpectro</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Simple example for the entire dataset</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="fu">postResampleSpectro</span>(</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">pred =</span> <span class="fu">predict</span>(fit2, <span class="fu">spectra</span>(oz)), </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="at">obs =</span> oz_valid<span class="sc">$</span>carbon</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt;      RMSE  Rsquared       RPD      RPIQ       CCC      Bias        SE </span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt; 2.4148046        NA 0.6614048 0.4182533 0.1667738 0.7262200 4.9291993</span></span></code></pre></div>
<p>Again, this function mimics its <code>caret</code> equivalent,
<code>postResample</code>.</p>
<p>A more useful thing to do, from a modelling standpoint, is to compare
those performance results on the calibration, validation, and
bootstrapped sets (especially the two latter ones):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Run model predictions and extract performance statistics for </span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co"># caliration and validation</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>res_calibration <span class="ot">&lt;-</span> <span class="fu">postResampleSpectro</span>(<span class="at">pred =</span> <span class="fu">predict</span>(fit2, <span class="fu">spectra</span>(oz_calib)), <span class="at">obs =</span> oz_calib<span class="sc">$</span>carbon)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>res_validation <span class="ot">&lt;-</span> <span class="fu">postResampleSpectro</span>(<span class="at">pred =</span> <span class="fu">predict</span>(fit2, <span class="fu">spectra</span>(oz_valid)), <span class="at">obs =</span> oz_valid<span class="sc">$</span>carbon)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="co"># Bootstrapped results can be extracted from the `train` object:</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>res_boot <span class="ot">&lt;-</span> fit2<span class="sc">$</span>results <span class="sc">%&gt;%</span> </span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  <span class="fu">filter</span>(ncomp <span class="sc">==</span> fit2<span class="sc">$</span>bestTune<span class="sc">$</span>ncomp) <span class="sc">%&gt;%</span> </span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">names</span>(res_calibration))</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co"># Assemble the calibration, validation, and </span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="co"># bootstrapped results in a single data.frame</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">type =</span> <span class="st">&quot;Calibration&quot;</span>, <span class="fu">t</span>(res_calibration)),</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">type =</span> <span class="st">&quot;Validation&quot;</span>, <span class="fu">t</span>(res_validation)),</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">type =</span> <span class="st">&quot;Bootstrap&quot;</span>, res_boot)</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>)</span></code></pre></div>
<p>Which gives the following results:</p>
<table>
<thead>
<tr class="header">
<th align="left">type</th>
<th align="right">RMSE</th>
<th align="right">Rsquared</th>
<th align="right">RPD</th>
<th align="right">RPIQ</th>
<th align="right">CCC</th>
<th align="right">Bias</th>
<th align="right">SE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Calibration</td>
<td align="right">1.09</td>
<td align="right">0.78</td>
<td align="right">2.15</td>
<td align="right">2.09</td>
<td align="right">0.88</td>
<td align="right">0.00</td>
<td align="right">1.10</td>
</tr>
<tr class="even">
<td align="left">Validation</td>
<td align="right">1.21</td>
<td align="right">0.55</td>
<td align="right">1.32</td>
<td align="right">0.83</td>
<td align="right">0.73</td>
<td align="right">0.24</td>
<td align="right">1.24</td>
</tr>
<tr class="odd">
<td align="left">Bootstrap</td>
<td align="right">1.31</td>
<td align="right">0.71</td>
<td align="right">1.76</td>
<td align="right">1.80</td>
<td align="right">0.82</td>
<td align="right">-0.01</td>
<td align="right">1.33</td>
</tr>
</tbody>
</table>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
